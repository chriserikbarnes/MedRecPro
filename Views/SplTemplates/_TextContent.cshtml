@using MedRecPro.Models
@using MedRecPro.Helpers
@inherits RazorLight.TemplatePage<List<MedRecPro.Models.SectionTextContentDto>>
@model List<SectionTextContentDto>

<text>
    @if (Model != null)
    {
        foreach (var content in Model.OrderBy(c => c.SequenceNumber))
        {
            var contentType = content.ContentType;

            if (!string.IsNullOrWhiteSpace(contentType))
            {
                switch (contentType)
                {
                    case "Paragraph":
                        <paragraph>@Raw(content.ContentText?.ToString() ?? "")</paragraph>
                        break;
                    case "RenderMultiMedia":
                        <renderMultiMedia>@Raw(content.ContentText?.ToString() ?? "")</renderMultiMedia>
                        break;
                         case "List":
                        foreach (var list in content.TextLists)
                        {
                            await IncludeAsync("_List", list);
                        }
                        break;
                    case "Table":
                        foreach (var table in content.TextTables)
                        {
                            await IncludeAsync("_Table", table);
                        }
                        break;
                }
            }
        }
    }
</text>