{
  "Version": "1.0.0-alpha",

  "RazorLight": {
    "TemplateFolder": "Views",
    "CachingEnabled": true,
    "DefaultNamespaces": [
      "System",
      "System.Collections.Generic",
      "System.Linq",
      "YourApp.Models"
    ]
  },

  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },

  "ClaudeApiSettings": {
    "Model": "claude-sonnet-4-20250514",
    "MaxTokens": 8000,
    "BaseUrl": "https://api.anthropic.com/v1/messages",
    "AnthropicVersion": "2023-06-01",
    "TimeoutSeconds": 120,
    "Temperature": 0.1,
    "Thinking": {
      "type": "enabled",
      "budget_tokens": 16000
    }
  },

  "ComparisonSettings": {
    "SaveReports": true,
    "MaxPromptLength": 150000,
    "EnableCaching": true,
    "CacheExpirationHours": 24,
    "MaxFileSize": 10485760,
    "SupportedFormats": [ "xml", "json" ],
    "RetryAttempts": 3,
    "RetryDelaySeconds": 5
  },

  "FileStorageSettings": {
    "BasePath": "uploads",
    "MaxRetentionDays": 30,
    "EnableCompression": true
  },

  "TemplateSettings": {
    "XmlTemplatePath": "Templates/spl-template-conditional.xml"
  },
  /*
  
Configuration Options
---------------------
Enabled (bool)
  Default: false
  Description: Master switch to enable/disable demo mode
  Usage: Set to true to activate the service

RefreshIntervalMinutes (int)
  Default: 60
  Description: How often (in minutes) to execute database truncation
  Usage: Adjust based on your demo needs (e.g., 30 for every 30 minutes, 1440 for daily)

AutoTruncateOnStartup (bool)
  Default: false
  Description: Whether to execute an immediate truncation when the service starts
  Usage: Set to true if you want a clean database on every application restart

PreserveTables (array of strings)
  Default: AspNet tables, migrations history, and activity log
  Description: List of tables that should NOT be truncated
  Usage: Add any additional tables you want to preserve

EnableScheduledTruncation (bool)
  Default: true
  Description: Whether to run scheduled truncations (independent of other demo features)
  Usage: Set to false to disable automatic truncation while keeping other demo mode features active

ShowDemoModeBanner (bool)
  Default: true
  Description: Flag for UI to display demo mode banner
  Usage: Can be checked in your views/controllers to show a banner to users

Examples:

Development/Testing Environment:
---------------------
"DemoModeSettings": {
    "Enabled": true,
    "RefreshIntervalMinutes": 30,
    "AutoTruncateOnStartup": true
  }

Public Demo Environment
---------------------
"DemoModeSettings": {
  "Enabled": true,
  "RefreshIntervalMinutes": 60,
  "AutoTruncateOnStartup": false,
  "ShowDemoModeBanner": true
}

Production Environment
---------------------
"DemoModeSettings": {
  "Enabled": false
}
  
*/
  "DemoModeSettings": {
    "Enabled": true,
    "RefreshIntervalMinutes": 90,
    "AutoTruncateOnStartup": false,
    "PreserveTables": [
      "__EFMigrationsHistory",
      "AspNetUsers",
      "AspNetRoles",
      "AspNetUserRoles",
      "AspNetUserClaims",
      "AspNetRoleClaims",
      "AspNetUserLogins",
      "AspNetUserTokens",
      "AspNetUserActivityLog"
    ],
    "EnableScheduledTruncation": true,
    "ShowDemoModeBanner": true
  },
  /*

Available Feature Flags
---------------------
ExternalAuthEnabled
  Type: bool
  Default: true
  Purpose: Controls external OAuth authentication providers (Google, Microsoft, etc.)
  When disabled:

External login endpoints return appropriate error messages
Only internal authentication (username/password) is available
OAuth configuration is not loaded

Use cases:

Maintenance mode
Internal-only deployments
Security lockdown scenarios

--------------------
SplImportEnabled
  Type: bool
  Default: true
  Purpose: Controls SPL XML import functionality from ZIP files
  When disabled:

Import endpoints return "feature disabled" responses
Upload UI components can be hidden
Background import processing is skipped

Use cases:

Demo environments (prevent data pollution)
Read-only deployments
Maintenance windows

--------------------
SplExportEnabled
  Type: bool
  Default: true
  Purpose: Controls SPL XML export and generation functionality
  When disabled:

Export endpoints return "feature disabled" responses
Download buttons can be hidden in UI
XML generation is prevented

Use cases:

Data protection scenarios
Limited-access deployments
Troubleshooting export issues

--------------------
ComparisonAnalysisEnabled
  Type: bool
  Default: true
  Purpose: Controls document comparison and analysis against FDA templates
  When disabled:

Analysis endpoints return "feature disabled" responses
Comparison UI features can be hidden
Background analysis jobs are not queued

Use cases:

Performance optimization (analysis is resource-intensive)
Demo environments
Deployments without Claude API access

--------------------
BackgroundProcessingEnabled
  Type: bool
  Default: true
  Purpose: Controls all background task processing (imports, analysis, long-running operations)
  When disabled:

Background queue service is not started
Operations that normally run async will fail gracefully
Status polling endpoints return appropriate messages

Use cases:

Single-threaded debugging
Resource-constrained environments
Troubleshooting async issues

⚠️ Warning: Disabling this will significantly impact user experience for long-running operations.
--------------------
ActivityTrackingEnabled
  Type: bool
  Default: true
  Purpose: Controls user activity logging and audit trail
  When disabled:

Activity logs are not written to database
Activity endpoints return empty results
Performance slight improvement (no logging overhead)

Use cases:

Privacy-focused deployments
Performance optimization
Testing scenarios

⚠️ Warning: Disabling this removes audit trail capabilities.
*/

  "FeatureFlags": {
    "ExternalAuthEnabled": true,
    "SplImportEnabled": true,
    "SplExportEnabled": true,
    "ComparisonAnalysisEnabled": true,
    "BackgroundProcessingEnabled": true
  },
  "AllowedHosts": "*",
  "UserCookie": "MedRecProUser",
  "AuthenticationTimeout": 60,
  "IgnoreEmptyObjectsWhenSerializing": true // Set to False when you want to include empty objects in the JSON serialization
}
